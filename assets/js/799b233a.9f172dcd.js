"use strict";(self.webpackChunkzhuddan_github_io=self.webpackChunkzhuddan_github_io||[]).push([[7119],{6597:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"ts/types","title":"\u7c7b\u578b\u4f53\u64cd","description":"1. \u67d0\u4e2a\u7c7b\u578b\u524d\u9762\u76f4\u63a5\u52a0good_\u524d\u7f00","source":"@site/archived/ts/types.md","sourceDirName":"ts","slug":"/ts/types","permalink":"/docs/ts/types","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"archived","previous":{"title":"\u7c7b\u578b\u5b88\u536b\u51fd\u6570","permalink":"/docs/ts/type-predicate-function"},"next":{"title":"react","permalink":"/docs/category/react"}}');var d=r(6070),l=r(7252);const i={},t="\u7c7b\u578b\u4f53\u64cd",c={},a=[{value:"1. \u67d0\u4e2a\u7c7b\u578b\u524d\u9762\u76f4\u63a5\u52a0<code>good_</code>\u524d\u7f00",id:"1-\u67d0\u4e2a\u7c7b\u578b\u524d\u9762\u76f4\u63a5\u52a0good_\u524d\u7f00",level:2},{value:"2. \u628a\u6a2a\u7ebf\u547d\u540d\u7684\u5b57\u7b26\u4e32\u7c7b\u540d\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d CamelCase",id:"2-\u628a\u6a2a\u7ebf\u547d\u540d\u7684\u5b57\u7b26\u4e32\u7c7b\u540d\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d-camelcase",level:2},{value:"3. \u5bf9\u8c61\u5408\u5e76",id:"3-\u5bf9\u8c61\u5408\u5e76",level:2},{value:"4. \u70b9\u70b9\u83b7\u53d6\u5bf9\u8c61\u7684key",id:"4-\u70b9\u70b9\u83b7\u53d6\u5bf9\u8c61\u7684key",level:2},{value:"5. Merge\u7c7b\u578b",id:"5-merge\u7c7b\u578b",level:2},{value:"6. \u6307\u5b9a\u67d0\u4e00\u4e2a\u5c5e\u6027\u4e3a\u5fc5\u9009\u53c2\u6570",id:"6-\u6307\u5b9a\u67d0\u4e00\u4e2a\u5c5e\u6027\u4e3a\u5fc5\u9009\u53c2\u6570",level:2},{value:"7. \u53bb\u9664undefined",id:"7-\u53bb\u9664undefined",level:2},{value:"8. \u53bb\u9664 readonly",id:"8-\u53bb\u9664-readonly",level:2},{value:"9. \u7c7b\u578b",id:"9-\u7c7b\u578b",level:2},{value:"10. \u83b7\u53d6\u51fd\u6570key",id:"10-\u83b7\u53d6\u51fd\u6570key",level:2},{value:"11. \u83b7\u53d6\u51fd\u6570\u540d\u79f0",id:"11-\u83b7\u53d6\u51fd\u6570\u540d\u79f0",level:2},{value:"12. \u76f8\u7b49\u5224\u65ad",id:"12-\u76f8\u7b49\u5224\u65ad",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u7c7b\u578b\u4f53\u64cd",children:"\u7c7b\u578b\u4f53\u64cd"})}),"\n",(0,d.jsxs)(n.h2,{id:"1-\u67d0\u4e2a\u7c7b\u578b\u524d\u9762\u76f4\u63a5\u52a0good_\u524d\u7f00",children:["1. \u67d0\u4e2a\u7c7b\u578b\u524d\u9762\u76f4\u63a5\u52a0",(0,d.jsx)(n.code,{children:"good_"}),"\u524d\u7f00"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type AppendGood<T> = {\r\n  [P in keyof T as `good_${string & P}`]: T[P];\r\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"2-\u628a\u6a2a\u7ebf\u547d\u540d\u7684\u5b57\u7b26\u4e32\u7c7b\u540d\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d-camelcase",children:"2. \u628a\u6a2a\u7ebf\u547d\u540d\u7684\u5b57\u7b26\u4e32\u7c7b\u540d\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d CamelCase"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"export type CamelCase<S extends string> =\r\n  S extends `${infer Head}-${infer Rest}`\r\n    ? `${Lowercase<Head>}${CamelCase<Capitalize<Rest>>}`\r\n    : S\r\n\r\ntype A = 'list-change'\r\n\r\ntype B = CamelCase<A> // ==> listChange\r\n\n"})}),"\n",(0,d.jsx)(n.h2,{id:"3-\u5bf9\u8c61\u5408\u5e76",children:"3. \u5bf9\u8c61\u5408\u5e76"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"export type Merge<A, B> = {\r\n  [K in keyof (A & B)]: K extends keyof B\r\n    ? B[K]\r\n    : K extends keyof A\r\n      ? A[K]\r\n      : never\r\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"4-\u70b9\u70b9\u83b7\u53d6\u5bf9\u8c61\u7684key",children:"4. \u70b9\u70b9\u83b7\u53d6\u5bf9\u8c61\u7684key"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type Primitive = string | boolean | number | bigint | symbol | undefined | null\r\n\r\ntype DeepKeys<T, P extends string | number | symbol = ''> = {\r\n  [K in keyof T]-?: T[K] extends Primitive\r\n    ? `${P extends '' ? '' : `${P & string}.`}${K & string}`\r\n    : `${P extends '' ? '' : `${P & string}.`}${K & string}` | DeepKeys<T[K], `${P & string}.${K & string}`>\r\n}[keyof T]\r\n\r\ninterface Data {\r\n  foo: {\r\n    bar: {\r\n      value: 'foobar'\r\n    }\r\n    count: 6\r\n    included: true\r\n  }\r\n  hello: 'world'\r\n}\r\n\r\ntype Keys = DeepKeys<Data>\n"})}),"\n",(0,d.jsx)(n.h2,{id:"5-merge\u7c7b\u578b",children:"5. Merge\u7c7b\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type Merge<A, B> = {\r\n  [K in keyof (A & B)]: K extends keyof B\r\n    ? B[K]\r\n    : K extends keyof A\r\n      ? A[K]\r\n      : never\r\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"6-\u6307\u5b9a\u67d0\u4e00\u4e2a\u5c5e\u6027\u4e3a\u5fc5\u9009\u53c2\u6570",children:"6. \u6307\u5b9a\u67d0\u4e00\u4e2a\u5c5e\u6027\u4e3a\u5fc5\u9009\u53c2\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type MakeOptionalPropertyRequired<T, K extends keyof T> = T & Required<Pick<T, K>>\n"})}),"\n",(0,d.jsx)(n.h2,{id:"7-\u53bb\u9664undefined",children:"7. \u53bb\u9664undefined"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type WithoutUndefined<T> = T extends undefined ? never : T\n"})}),"\n",(0,d.jsx)(n.h2,{id:"8-\u53bb\u9664-readonly",children:"8. \u53bb\u9664 readonly"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type RemoveReadonly<T> = {\r\n  -readonly [K in keyof T]: T[K];\r\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"9-\u7c7b\u578b",children:"9. \u7c7b\u578b"}),"\n",(0,d.jsx)(n.p,{children:"\u4e09\u4e2ats\u4e2d\u7684\u7c7b\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type c = string\r\n\r\ntype d = c[]\r\n\r\ntype e = number[]\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6211\u671f\u671b\u628atype e \u6539\u4e3a\u4e00\u4e2a\u6cdb\u578b\uff0c\u63a5\u53d7d\uff0c\u7136\u540ee\u7684\u6bcf\u4e00\u9879\u90fd\u662fd\u7684\u6bcf\u4e00\u9879\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type c = string\r\ntype d = c[]\r\ntype e<T extends string[]> = {\r\n  [K in keyof T]: T[K]['length'];\r\n}\r\n\r\n// \u793a\u4f8b\u7528\u6cd5\r\nconst exampleArray: d = ['apple', 'banana', 'orange']\r\nconst result: e<d> = [5, 6, 6] // e<d> \u7684\u6bcf\u4e00\u9879\u90fd\u662f d \u4e2d\u6bcf\u4e00\u9879\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\n"})}),"\n",(0,d.jsx)(n.h2,{id:"10-\u83b7\u53d6\u51fd\u6570key",children:"10. \u83b7\u53d6\u51fd\u6570key"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type GetFunctionKeys<T> = {\r\n  [K in keyof T]: T[K] extends (...args: any[]) => any ? K : never\r\n}[keyof T]\r\ntype Fn = GetFunctionKeys<{\r\n  done: () => void\r\n  msg: () => void\r\n  name: void\r\n}> // ===> 'done' | 'msg'\n"})}),"\n",(0,d.jsx)(n.h2,{id:"11-\u83b7\u53d6\u51fd\u6570\u540d\u79f0",children:"11. \u83b7\u53d6\u51fd\u6570\u540d\u79f0"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"type FunctionKeys<T> = {\r\n  [K in keyof T]: T[K] extends (...args: any[]) => any ? K : never;\r\n}[keyof T]\n"})}),"\n",(0,d.jsx)(n.h2,{id:"12-\u76f8\u7b49\u5224\u65ad",children:"12. \u76f8\u7b49\u5224\u65ad"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:" type IsEqual<X, Y> =\r\n  (<T>() => T extends X ? 1 : 2) extends (<T>() => T extends Y ? 1 : 2)\r\n    ? true\r\n    : false\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5206\u89e3\u6bcf\u4e2a\u90e8\u5206\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"<T>"}),"() \u662f\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\u58f0\u660e"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"T extends X ? 1 : 2"})," \u662f\u6761\u4ef6\u7c7b\u578b\u68c0\u67e5"]}),"\n",(0,d.jsxs)(n.li,{children:["\u6574\u4f53\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"extends"})," \u6bd4\u8f83\u4e24\u4e2a\u51fd\u6570\u7c7b\u578b\u662f\u5426\u76f8\u540c"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u8fd9\u79cd\u5b9e\u73b0\u7684\u5de7\u5999\u4e4b\u5904\u5728\u4e8e\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5f53 ",(0,d.jsx)(n.code,{children:"X"})," \u548c ",(0,d.jsx)(n.code,{children:"Y"})," \u5b8c\u5168\u76f8\u540c\u65f6\uff0c\u4e24\u4e2a\u51fd\u6570\u7c7b\u578b\u4f1a\u751f\u6210\u5b8c\u5168\u76f8\u540c\u7684\u6761\u4ef6\u7c7b\u578b"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679c ",(0,d.jsx)(n.code,{children:"X"})," \u548c ",(0,d.jsx)(n.code,{children:"Y"})," \u6709\u4efb\u4f55\u5dee\u5f02\uff08\u6bd4\u5982\u4e00\u4e2a\u6709 readonly\uff0c\u53e6\u4e00\u4e2a\u6ca1\u6709\uff09\uff0c\u751f\u6210\u7684\u6761\u4ef6\u7c7b\u578b\u5c31\u4f1a\u4e0d\u540c"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"interface A { a: string }\r\ninterface B { readonly a: string }\r\n\r\n// \u4ee5\u4e0b\u4e24\u4e2a\u7c7b\u578b\u662f\u4e0d\u540c\u7684\uff1a\r\ntype Func1 = <T>() => T extends A ? 1 : 2 // (\u53ef\u80fd\u8fd4\u56de 1 \u6216 2)\r\ntype Func2 = <T>() => T extends B ? 1 : 2 // (\u53ef\u80fd\u8fd4\u56de 1 \u6216 2)\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8fd9\u6837\u505a\u66f4\u51c6\u786e:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u666e\u901a\u7684 ",(0,d.jsx)(n.code,{children:"X extends Y"})," \u5728\u5904\u7406\u7ed3\u6784\u7c7b\u4f3c\u4f46\u4fee\u9970\u7b26\u4e0d\u540c\u7684\u7c7b\u578b\u65f6\u53ef\u80fd\u4f1a\u7ed9\u51fa\u9519\u8bef\u7684\u7ed3\u679c"]}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528\u51fd\u6570\u7c7b\u578b\u5305\u88c5\u53ef\u4ee5\u6355\u83b7\u5230\u66f4\u7ec6\u5fae\u7684\u7c7b\u578b\u5dee\u5f02"}),"\n",(0,d.jsxs)(n.li,{children:["\u6cdb\u578b\u53c2\u6570 ",(0,d.jsx)(n.code,{children:"T"}),' \u5728\u8fd9\u91cc\u8d77\u5230\u4e86"\u63a2\u6d4b\u5668"\u7684\u4f5c\u7528\uff0c\u5e2e\u52a9\u6211\u4eec\u8bc6\u522b\u7c7b\u578b\u7684\u5b8c\u6574\u7ed3\u6784']}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},7252:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>t});var s=r(758);const d={},l=s.createContext(d);function i(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);