---
title: é¡¶å±‚ç±»å‹/åº•å±‚ç±»å‹
---


åœ¨ TypeScript ä¸­ï¼Œ**é¡¶å±‚ç±»å‹ï¼ˆTop Typesï¼‰** å’Œ **åº•å±‚ç±»å‹ï¼ˆBottom Typesï¼‰** æ˜¯ç±»å‹ç³»ç»Ÿä¸­çš„æœ¯è¯­ï¼Œä¸»è¦ç”¨äºè¡¨ç¤ºç±»å‹çš„åŒ…å«ï¼ˆåˆ†é…ï¼‰å…³ç³»ã€‚


```ts
any
|
unknown
|
Object
|          \
object ------- string ------- 'foo'
|              |              |
{}             |            "hello"
|              |              |
null          number ------- 123
|              |              
undefined     boolean ------ true/false
|
never
```



## ä¸€ã€é¡¶å±‚ç±»å‹ï¼ˆTop Typesï¼‰
å®šä¹‰ï¼šå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å€¼ã€‚å®ƒä»¬æ˜¯æ‰€æœ‰ç±»å‹çš„â€œè¶…é›†â€ã€‚

å¸¸è§é¡¶å±‚ç±»å‹æœ‰ï¼š

| ç±»å‹        | æè¿°                                |
| --------- | --------------------------------- |
| `any`     | å…³é—­ç±»å‹æ£€æŸ¥ï¼Œä»»ä½•å€¼éƒ½å¯ä»¥èµ‹ç»™å®ƒ                  |
| `unknown` | ç±»å‹å®‰å…¨çš„ `any`ï¼Œå¯æ¥å—ä»»ä½•å€¼ï¼Œä½†ä½¿ç”¨å‰éœ€ç±»å‹æ£€æŸ¥      |
| `object`  | åªèƒ½æ¥æ”¶éåŸå§‹ç±»å‹çš„å¯¹è±¡ï¼ˆä¸èƒ½æ˜¯ string/number ç­‰ï¼‰ |

ç¤ºä¾‹ï¼š
```ts
let a: any = 1;
let b: unknown = 'str';
let c: object = { name: 'Tom' };
```


## 1. any

- ç±»å‹ç³»ç»Ÿçš„`æœ€é¡¶å±‚ç±»å‹`

1. `any` ç±»å‹çš„å˜é‡å¯ä»¥**è¢«èµ‹å€¼**ä¸ºä»»ä½•ç±»å‹çš„å€¼ (å€¼)

```ts
let a: any;
a = 123;         // âœ… number
a = 'hello';     // âœ… string
a = true;        // âœ… boolean
a = [1, 2, 3];   // âœ… array
a = { x: 1 };    // âœ… object
a = null;        // âœ… null
a = undefined;   // âœ… undefined
a = () => {};    // âœ… function
```

2. `any` ç±»å‹çš„å˜é‡, å¯ä»¥**å€¼èµ‹**ç»™`ä»»ä½•å…¶ä»–ç±»å‹çš„å˜é‡` (ç±»å‹)

```ts
const a: any = 'hello'
const str: string = a // âœ… OK
const num: number = a // âœ… OK
const obj: object = a // âœ… OK
const bool: boolean = a // âœ… OK
const arr: string[] = a // âœ… OK
```

- è·³è¿‡ç±»å‹æ£€æŸ¥

ä½¿ç”¨ `any` çš„å€¼ï¼ŒTypeScript ä¸ä¼šå¯¹å®ƒåšä»»ä½•ç±»å‹æ£€æŸ¥

> æš‚æ—¶é€ƒç¦»ç±»å‹ç³»ç»Ÿçš„`æ•‘ç”Ÿèˆ±`ï¼Œè€Œä¸æ˜¯â€œå¤©å ‚â€ ?

åœ¨ä½ å®åœ¨ä¸æƒ³å¤„ç†å¤æ‚çš„ç±»å‹æ¨å¯¼æˆ–æ•°æ®ç»“æ„æ—¶ï¼Œä¸´æ—¶ç”¨å®ƒæ’‘ä¸€ä¸‹ï¼Œä½†æœ€ç»ˆæœ€å¥½è¿˜æ˜¯å›åˆ°ç±»å‹ç³»ç»Ÿã€‚æœ¬äº‹ä¸Šå˜æˆ`js`ä»£ç çš„æ²¡ç”¨ç±»å‹çš„æ–¹å¼ï¼Œæš‚æ—¶é€ƒç¦»ç±»å‹ç³»ç»Ÿã€‚
ä½ åªåº”è¯¥åœ¨ä¸‹é¢å‡ ç§æƒ…å†µä½¿ç”¨å®ƒï¼š

- ç±»å‹å®åœ¨æ— æ³•ç¡®è®¤
- å¿«é€Ÿå¼€å‘
- è¿ç§»æ—§ä»£ç 
- å£°æ˜æ²¡æœ‰tsç±»å‹çš„ç¬¬ä¸‰æ–¹åº“

- é¡¶å±‚æ˜¯ `any`

## 2. unknown

- `æ›´å®‰å…¨çš„é¡¶å±‚ç±»å‹`

1. `unknown` ç±»å‹çš„å˜é‡å¯ä»¥**è¢«èµ‹å€¼**ä¸ºä»»ä½•ç±»å‹çš„å€¼ (å€¼) , è¿™ä¸€ç‚¹å’Œ `any` ç›¸åŒ

```ts 
let a: unknown;
a = 123;         // âœ… number
a = 'hello';     // âœ… string
a = true;        // âœ… boolean
a = [1, 2, 3];   // âœ… array
a = { x: 1 };    // âœ… object
a = null;        // âœ… null
a = undefined;   // âœ… undefined
a = () => {};    // âœ… function
```

2. `unknown` ç±»å‹çš„å˜é‡, ä¸å¯ä»¥**å€¼èµ‹**ç»™`ä»»ä½•å…¶ä»–ç±»å‹çš„å˜é‡` (ç±»å‹) è¿™ä¸€ç‚¹å’Œ `any` ä¸ç›¸åŒ ğŸš«ï¼Œè¿™æ˜¯å®‰å…¨çš„ä½“ç°

```ts 
const a: unknown = 'hello'
const str: string = a // âŒ error
const num: number = a // âŒ error
const obj: object = a // âŒ error
const bool: boolean = a // âŒ error
const arr: string[] = a // âŒ error
```

ä¹Ÿå°±æ˜¯è¯´ä½ å¿…é¡»è¦å‘Šè¯‰ `ts` è¿™ä¸ª `unknown` ç±»å‹çš„çœŸå®ç±»å‹(æ–­è¨€)ï¼Œæ‰å¯ä»¥æ­£å¸¸å·¥ä½œ

```ts
const a: unknown = 'hello'
const str: string = a as string // âœ…
```

ä½¿ç”¨æ—¶å€™ä¹Ÿä¸€æ ·

```ts
const a: unknown = 'hello'

const l0 = a.length // âŒ error 'a' is of type 'unknown'

const l1 = (a as { length: number }).length // âœ…

const l2 = (a as string).length // âœ…
```

- æ°¸è¿œä¸ä¼šè·³è¿‡ç±»å‹æ£€æŸ¥

## äºŒã€åº•å±‚ç±»å‹ï¼ˆBottom Typesï¼‰
å®šä¹‰ï¼šæ˜¯æ‰€æœ‰ç±»å‹çš„â€œå­é›†â€ï¼Œæ— æ³•è¢«èµ‹å€¼ä¸ºä»»ä½•å®é™…å€¼ï¼Œä»£è¡¨ä¸å¯èƒ½çš„ç±»å‹ã€‚

å¸¸è§åº•å±‚ç±»å‹æœ‰ï¼š

| ç±»å‹      | æè¿°                                           |
| ------- | -------------------------------------------- |
| `never` | æ°¸è¿œä¸ä¼šæœ‰å€¼çš„ç±»å‹ï¼Œä»£è¡¨ä¸å¯èƒ½å‘ç”Ÿçš„æƒ…å†µï¼Œæ¯”å¦‚æŠ›é”™æˆ–æ— é™å¾ªç¯     |
| `null`  | åœ¨ `--strictNullChecks` ä¸º `false` æ—¶æ˜¯åº•å±‚ç±»å‹ï¼›å¦åˆ™ä¸æ˜¯ |


```ts
function throwError(): never {
  throw new Error('error'); // æ°¸è¿œä¸ä¼šè¿”å›
}

function infiniteLoop(): never {
  while (true) {}
}
```
